
<div id="stepper" class="flex ">
  <ol class="flex flex-wrap justify-center items-center  w-full p-3 space-x-2 text-sm font-medium text-center text-gray-500 bg-white border border-gray-200 rounded-lg shadow-sm dark:text-gray-400 sm:text-base dark:bg-gray-800 dark:border-gray-700 sm:p-4 sm:space-x-4 rtl:space-x-reverse">
    <li class="flex items-center ">
        <span class="flex items-center justify-center w-5 h-5 me-2 text-xs border border-gray-500 rounded-full shrink-0 dark:border-lime-500">
            1
        </span>
      Login <span class="hidden sm:inline-flex sm:ms-2">Info</span>
      <svg class="w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 10">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 9 4-4-4-4M1 9l4-4-4-4"/>
      </svg>
    </li>
    <li class="flex items-center">
        <span class="flex items-center justify-center w-5 h-5 me-2 text-xs border border-gray-500 rounded-full shrink-0 dark:border-gray-400">
            2
        </span>
      Personal Info <span class="hidden sm:inline-flex sm:ms-2"></span>
      <svg class="w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 10">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 9 4-4-4-4M1 9l4-4-4-4"/>
      </svg>
    </li>
    <li class="flex items-center">
        <span class="flex items-center justify-center w-5 h-5 me-2 text-xs border border-gray-500 rounded-full shrink-0 dark:border-gray-400">
            3
        </span>
      Billing Info <span class="hidden sm:inline-flex sm:ms-2"></span>
      <svg class="w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 10">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 9 4-4-4-4M1 9l4-4-4-4"/>
      </svg>
    </li>

    <li class="flex items-center">
        <span class="flex items-center justify-center w-5 h-5 me-2 text-xs border border-gray-500 rounded-full shrink-0 dark:border-gray-400">
            4
        </span>
      Payment Info <span class="hidden sm:inline-flex sm:ms-2"></span>
      <svg class="w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 10">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 9 4-4-4-4M1 9l4-4-4-4"/>
      </svg>
    </li>
    <li class="flex items-center">
        <span class="flex items-center justify-center w-5 h-5 me-2 text-xs border border-gray-500 rounded-full shrink-0 dark:border-gray-400">
            5
        </span>
      Review & Place Order
    </li>
  </ol>
</div>

<!--LOGIN-->
<div class="bg-gray-100 w-screen mr-auto px-4 py-6 flex justify-around flex-wrap">

  <form class="max-w-sm" *ngIf="currentStep ===1" [formGroup]="loginData">
  <div class="mb-5">
    <label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">  <span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    EMAIL
  </span></label>
    <input type="email" formControlName="email" id="email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="username@domain.com" required />
    <p class="mt-2 text-pink-600 text-sm" *ngIf="loginData.get('email')?.invalid && loginData.get('email')?.touched">
      Please provide a valid email address.
    </p>
  </div>
  <div class="mb-5">
    <label for="contact" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
      <span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
        CONTACT
      </span>
    </label>
    <input type="text" formControlName="contact" id="contact" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="+91 xxxxxxxxxx" required />
    <p class="mt-2 text-pink-600 text-sm" *ngIf="loginData.get('contact')?.invalid && loginData.get('contact')?.touched">
      Please provide a valid contact number.
    </p>
  </div>
  <div class="flex">
    <div class="flex items-center h-5">
      <input id="new-customer" checked type="radio" value="new" [(ngModel)]="selectedOption" [ngModelOptions]="{standalone: true}" name="new-customer" class="w-3 h-3 text-green-600 bg-gray-100 border-gray-300 focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
      </div>
     <div class="ms-2 text-sm">
      <label for="new-customer" class=" text-sm font-medium text-gray-900 dark:text-gray-300">New Customer</label>
      <p id="helper-radio-text" class="text-xs  font-normal text-gray-500 dark:text-gray-300">Manage your delivery schedule, customize the items in your box and access other account features</p>
    </div>
  </div>
  <div class="flex items-center mt-3 me-4">
    <input id="existing-customer" type="radio" value="existing" [(ngModel)]="selectedOption" [ngModelOptions]="{standalone: true}" name="existing-customer" class="w-3 h-3 text-green-600 bg-gray-100 border-gray-300 focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
    <label for="existing-customer" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">Existing User</label>
  </div>

  <div class="mb-5 mt-3">
    <label for="password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">  <span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    PASSWORD
  </span></label>
    <input type="password" formControlName="password" id="password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required />
    <p
      class="mt-2 text-pink-600 text-sm"
      *ngIf="isFieldInvalid('password')"
    >
      Password Field is required.
    </p>
  </div>

  <div class="mb-5" *ngIf="selectedOption === 'new'">
    <label for="confirm-password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">  <span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    CONFIRM PASSWORD
  </span></label>
    <input type="password" formControlName="confirmPassword"  (input)="clearError('confirmPassword')" id="confirm-password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required />
    <p
      class="mt-2 text-pink-600 text-sm"
      *ngIf="isFieldInvalid('confirmPassword')"
    >
      Password do not match.
    </p>
  </div>
  <div class="flex items-start mb-5" *ngIf="selectedOption === 'existing'">
    <div class="flex items-center h-5">
      <input id="remember" type="checkbox" value="" class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800" required />
    </div>
    <label for="remember" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">Remember me</label>
    <a routerLink="" class="text-sm font-medium text-lime-600 hover:underline ms-36 dark:text-primary-500">Forgot password?</a>
  </div>
  <div class="mb-5" *ngIf="showOtpBox">
    <label for="otpInput" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">  <span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    OTP
  </span></label>
    <input type="text" id="otpInput" [(ngModel)]="otp" [ngModelOptions]="{standalone: true}" name="otp" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required />
    <button type="submit" (click)="verifyOTP()" class="text-white bg-lime-600 hover:bg-lime-400  mt-2 focus:ring-4 focus:ring-lime-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Verify</button>

    <button type="button" (click)="resendOtp()" class="text-white bg-green-700 hover:bg-green-800 mt-2 focus:outline-none focus:ring-4 focus:ring-green-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">Resend</button>

  </div>

  <button type="button" (click)="next()" class="text-white bg-lime-600 hover:bg-lime-500 focus:ring-4 focus:outline-none focus:ring-lime-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">NEXT</button>
  <p id="t&c" class="text-xs mt-2  font-normal text-gray-500 dark:text-gray-300">By clicking above, you agree to our <a class="text-sm font-medium text-lime-600 hover:underline">Terms of Use</a>  and consent to our <a class="text-sm font-medium text-lime-600 hover:underline">Privacy Policy</a>.</p>

</form>

<!--personal info-->
  <div class="border-gray-900/10 pb-12" *ngIf="currentStep ===2">
    <h2 class="text-base font-semibold leading-7 text-gray-900">Personal Information</h2>

    <div class="mt-10 grid grid-cols-3 gap-x-6 gap-y-8 sm:grid-cols-6">
      <div class="sm:col-span-3">
        <label for="first-name" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    First name
  </span></label>
        <div class="mt-2">
          <input type="text" name="first-name" [(ngModel)]="firstName"  id="first-name" autocomplete="given-name" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>

      <div class="sm:col-span-3">
        <label for="last-name" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    Last name
  </span></label>
        <div class="mt-2">
          <input type="text" name="last-name" id="last-name" [(ngModel)]="lastName" autocomplete="family-name" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>

      <div class="sm:col-span-3">
        <label for="last-name" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    Contact
  </span></label>
        <div class="mt-2">
          <input type="text" name="contact" id="contact" [(ngModel)]="contact"  class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>

      <div class="col-span-full">
        <label for="street-address" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    Street address
  </span></label>
        <div class="mt-2">
          <input type="text" name="street-address" id="street-address" [(ngModel)]="streetAddress" autocomplete="street-address" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>

      <div class="sm:col-span-2 sm:col-start-1">
        <label for="city" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    City
  </span></label>
        <div class="mt-2">
          <input type="text" name="city" id="city" [(ngModel)]="city" autocomplete="address-level2" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>

      <div class="sm:col-span-2">
        <label for="region" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    State
  </span></label>
        <div class="mt-2">
          <input type="text" name="state" id="region" [(ngModel)]="state" autocomplete="address-level1" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>

      <div class="sm:col-span-2">
        <label for="postal-code" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    Zip Code
  </span></label>
        <div class="mt-2">
          <input type="text" name="postal-code" id="postal-code" [(ngModel)]="postalCode" autocomplete="postal-code" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>
    </div>
    <button type="submit" (click)="submitDetails()" class="text-white bg-lime-600 mt-6 w-full hover:bg-lime-500 focus:ring-4 focus:outline-none focus:ring-lime-300 font-medium rounded-lg text-sm  sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">NEXT</button>

  </div>

<!--Billing Info-->
  <div *ngIf="currentStep===3" >
  <h2 class="text-base font-semibold leading-7 text-gray-900 ">Billing Information</h2>
  <ul class="grid w-full gap-6 md:grid-cols-2 mt-6" *ngIf="(user$ | async) as currentUser">
    <li>

      <input type="radio" (click)="useDifferentAddress = false"  id="shipping" name="shipping"  [checked]="!useDifferentAddress"  class="hidden peer" required />
      <label for="shipping" class="inline-flex items-center justify-between w-full p-3 text-gray-500 bg-white border border-gray-200 rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700">
        <div class=" flex flex-col">
          <h2 class="text-sm font-semibold leading-7 text-gray-900 ">Shipping Address :</h2>

          <div class="w-full text-lg font-semibold truncate">{{shippingAddress.city}}, {{shippingAddress.state}}, {{shippingAddress.zipCode}}</div>
          <div class="w-full text-sm  truncate">{{shippingAddress.streetAddress}}</div>

          <div class="w-full inline-flex items-center justify-between mt-3">Use this as Billing address
            <svg class="w-5 h-5 ms-3 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
            </svg>
          </div>
        </div>

      </label>
    </li>
    <li>
      <input type="radio"  (click)="useDifferentAddress = !useDifferentAddress" id="billing" name="billing"  [checked]="useDifferentAddress"  class="hidden peer">
      <label for="billing" class="inline-flex items-center justify-between w-full h-full p-5 text-gray-500 bg-white border border-gray-200 rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700">
        <div class="block">
          <div class="w-full text-lg font-semibold">Use Different Billing address</div>
          <div class="w-full">Fill billing Address</div>
        </div>
      </label>
    </li>
  </ul>
  <div [class.hidden]="!useDifferentAddress">
    <!-- Input fields for new billing address -->
    <div class="mt-10 grid grid-cols-3 gap-x-6 gap-y-8 sm:grid-cols-6 ">
      <div class="sm:col-span-3">
        <label for="first-name" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    First name
  </span></label>
        <div class="mt-2">
          <input type="text" name="first-name" [(ngModel)]="firstName"  id="firstName" autocomplete="given-name" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>

      <div class="sm:col-span-3">
        <label for="last-name" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    Last name
  </span></label>
        <div class="mt-2">
          <input type="text" name="last-name" id="lastName" [(ngModel)]="lastName" autocomplete="family-name" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>

      <div class="sm:col-span-3">
        <label for="last-name" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    Contact
  </span></label>
        <div class="mt-2">
          <input type="text" name="contact" id="phone" [(ngModel)]="contact"  class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>

      <div class="col-span-full">
        <label for="street-address" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    Street address
  </span></label>
        <div class="mt-2">
          <input type="text" name="street-address" id="StreetAddress" [(ngModel)]="streetAddress" autocomplete="street-address" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>

      <div class="sm:col-span-2 sm:col-start-1">
        <label for="city" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    City
  </span></label>
        <div class="mt-2">
          <input type="text" name="city" id="billingCity" [(ngModel)]="city" autocomplete="address-level2" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>

      <div class="sm:col-span-2">
        <label for="region" class="block text-sm font-medium leading-6 text-gray-900">
          <span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
            State
          </span>
        </label>
        <div class="mt-2">
          <input type="text" name="state" id="billingState" [(ngModel)]="state" autocomplete="address-level1" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>

      <div class="sm:col-span-2">
        <label for="postal-code" class="block text-sm font-medium leading-6 text-gray-900"><span class="after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700">
    Zip Code
  </span></label>
        <div class="mt-2">
          <input type="text" name="postal-code" id="zipCode" [(ngModel)]="postalCode" autocomplete="postal-code" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>  </div>

</div>
  <button type="submit" (click)="billingInfo()" class="text-white bg-lime-600  mt-6 w-full hover:bg-lime-500 focus:ring-4 focus:outline-none focus:ring-lime-300 font-medium rounded-lg text-sm  sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">NEXT</button>

</div>

<!--Payment Info-->
  <div class="w-1/3 sm:w-full" *ngIf="currentStep===4">
    <h2 class="text-base font-semibold leading-7 text-gray-900 ">Payment Information</h2>
    <ul class="grid w-full gap-6 md:grid-cols-1 mt-6" *ngIf="(user$ | async) as currentUser">
      <li>
        <input type="radio" id="shipping" name="shipping"  class="hidden peer" required />
        <label for="shipping" class="inline-flex items-center justify-between w-full h-full p-5 bg-white border rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 text-blue-600 border-blue-700 dark:text-gray-400 dark:bg-gray-800">
          <div class="block">
            <div class="w-full text-lg font-semibold">Cash On Delivery</div>
            <div class="w-full">Pay on the delivery time</div>
          </div>
        </label>
      </li>
      <li>
        <input type="radio" id="billing" name="billing"   class="hidden peer">
        <label for="billing" class="inline-flex items-center justify-between w-full h-full p-5 text-gray-500 bg-white border border-gray-200 rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700">
          <div class="block">
            <div class="w-full text-lg font-semibold">Pay with UPI</div>
            <div class="w-full text-red-600">Currently this service is unavailable.</div>
          </div>
        </label>
      </li>
    </ul>

    <button type="submit" (click)="billingInfo()" class="text-white bg-lime-600  mt-6 w-full hover:bg-lime-500 focus:ring-4 focus:outline-none focus:ring-lime-300 font-medium rounded-lg text-sm  sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">DONE</button>

  </div>

<!--  Review and Place Holder-->
  <div *ngIf="currentStep===6" >
    <h2 class="text-base font-semibold leading-7 text-gray-900 ">Review & Place Order</h2>

    <dl class="mt-12 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8">
      <div class="border-t border-gray-200 pt-4">
        <dt class="font-medium text-gray-900">Shipping Address: </dt>
        <dd class="mt-2 text-sm text-gray-500">{{shippingAddress.city}},{{shippingAddress.state}}</dd>
        <dd class="mt-2 text-sm text-gray-500">{{shippingAddress.streetAddress}}</dd>

      </div>
      <div class="border-t border-gray-200 pt-4">
        <dt class="font-medium text-gray-900">Billing Address:</dt>
        <dd class="mt-2 text-sm text-gray-500">{{billingAddress.address.city}},{{billingAddress.address.state}}</dd>
        <dd class="mt-2 text-sm text-gray-500">{{billingAddress.address.streetAddress}}</dd>      </div>
      <div class="border-t border-gray-200 pt-4" *ngFor="let cartItems of cart.items">
        <dt class="font-medium text-gray-900">Items:</dt>
        <dd class="mt-2 text-sm font-bold text-gray-500">{{cartItems.boxType}}</dd>
        <dd class="mt-2 text-sm font-bold text-gray-500">size:{{cartItems.boxSize}}</dd>
        <dd class="mt-2 text-sm font-bold text-gray-500">frequency: {{cartItems.frequency}}</dd>
        <dd class="mt-2 text-sm font-bold text-gray-500">price: ₹{{cartItems.price}}</dd>


      </div>
      <button (click)="createOrder()" class=" w-full  rounded-md border border-transparent bg-lime-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-lime-500">Place Order</button>

    </dl>
  </div>

  <!--  Review contents-->
  <div *ngIf="currentStep===9" id="cart-contents" class="bg-white container h-1/2 px-4 py-6 flex items-center md:flex-row md:max-w-2xl relative mt-3" >
    <h2 class="absolute top-0 left-1/2 transform -translate-x-1/2 mb-4 mt-4 text-xl font-bold">Review Contents</h2>
    <div class="flex flex-col justify-between p-4 mt-4 leading-normal w-full relative ">
<!--      <p class="text-sm font-medium text-blue-500 dark:text-blue-400">404 error</p>-->
      <h1 class="mt-3 text-xl font-semibold text-gray-800 dark:text-white">
        Personal Info,
        Billing Info,
        Payment Info
      </h1>
      <p class="mt-4 text-gray-500 dark:text-gray-400">Sorry, the page you are looking for doesn't exist or has been moved.</p>

      <div class="flex items-center mt-6 gap-x-3">
        <button class="flex items-center justify-center w-1/2 px-5 py-2 text-sm text-gray-700 transition-colors duration-200 bg-white border rounded-lg gap-x-2 sm:w-auto dark:hover:bg-gray-800 dark:bg-gray-900 hover:bg-gray-100 dark:text-gray-200 dark:border-gray-700">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 rtl:rotate-180">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18" />
          </svg>

          <span>Go back</span>
        </button>

        <button class="w-1/2 px-5 py-2 text-sm tracking-wide text-white transition-colors duration-200 bg-blue-500 rounded-lg shrink-0 sm:w-auto hover:bg-blue-600 dark:hover:bg-blue-500 dark:bg-blue-600">
          Take me home
        </button>
      </div>
    </div>
  </div>

  <!--  card contents-->
<div id="cart-contents" class="bg-white container h-1/2 px-4 py-6 flex items-center md:flex-row md:max-w-2xl relative mt-3" >
  <h2 class="absolute top-0 left-1/2 transform -translate-x-1/2 mb-4 mt-4 text-xl font-bold">Cart Contents</h2>


<!--  <img class="object-cover w-4/12 h-auto"  src="assets/images/checkout-img%20(1).png" alt="">-->

<div class="flex flex-col justify-between p-4 mt-4 leading-normal w-full relative " *ngIf="cart.length>0">
  <div class="flex w-full flex-wrap justify-between sm:justify-center items-center" *ngFor="let cartItem of cart; let i = index">
    <div>
      <img class="object-cover rounded-lg h-40 ml-auto mr-auto" [src]="cartItem.boxImg">

      <div class="flex overflow-hidden bg-white border divide-x mt-2 mb-2 rounded-lg rtl:flex-row-reverse dark:bg-gray-900 dark:border-gray-700 dark:divide-gray-700">
        <button [routerLink]="'/product/edit/'+cartItem._id" class="flex items-center px-4 py-2 text-sm font-medium text-gray-600 transition-colors duration-200 sm:text-base sm:px-6 dark:hover:bg-gray-800 dark:text-gray-300 gap-x-3 hover:bg-gray-100">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
            <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
            <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"/>
          </svg>

          <span>EDIT</span>
        </button>

        <button (click)="removeCartItem(cartItem._id,i)" class="flex w-full items-center px-4 py-2 text-sm font-medium text-gray-600 transition-colors duration-200 sm:text-base sm:px-6 dark:hover:bg-gray-800 dark:text-gray-300 gap-x-3 hover:bg-gray-100">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
            <path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"/>
          </svg>

          <span>REMOVE</span>
        </button>
      </div>
    </div>

      <div class="flex flex-col justify-between p-4 leading-normal items-start">
        <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">{{cartItem.boxType}}</h5>
        <p class="mb-3 font-normal text-gray-700 dark:text-gray-400"><b>SIZE : </b>{{cartItem.boxSize}}</p>
        <p class="mb-3 font-normal text-gray-700 dark:text-gray-400"><b>FREQUENCY : </b>{{cartItem.frequency}}</p>
        <p class="mb-3 font-normal text-gray-700 dark:text-gray-400"><b>PRICE : </b>₹{{cartItem.price}}</p>
        <p class="mb-3 font-normal text-gray-700 dark:text-gray-400"><b>WEIGHT : </b>{{cartItem.weight}} {{cartItem.unit}}</p>
        <p class="mb-3 font-normal text-gray-700 dark:text-gray-400"><b>FIRST DELIVERY : </b>{{cartItem.deliveryDate}}</p>
      </div>
  </div>


  <div class="border-t border-gray-200 px-4 py-6 sm:px-6">
    <div class="flex justify-between text-base font-medium text-gray-900">
      <p>Subtotal<br>
      <span class="mt-0.5 text-sm text-gray-500">All the extra charges are included.</span>
      </p>
      <p class="text-2xl font-bold">₹{{total}}</p>
    </div>
    <div class="mt-6">
      <button (click)="createOrder()" data-tooltip-target="tooltip-default" [disabled]="currentStep!==5"  class="flex disabled:opacity-75 cursor-pointer w-full items-center justify-center rounded-md border border-transparent bg-lime-600 px-6 py-3 text-base font-medium text-white shadow-sm enabled:hover:bg-lime-500">Place Order</button>
      <div id="tooltip-default" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
        Please fill all the required details.
        <div class="tooltip-arrow" data-popper-arrow></div>
      </div>
    </div>
<!--    <div class="mt-6 flex justify-center text-center text-sm text-gray-500">-->
<!--      <p>-->
<!--        or-->
<!--        <button type="button" routerLink="/product/subscriptions" class="font-medium text-lime-600 hover:text-lime-500">-->
<!--          Continue Shopping-->
<!--          <span aria-hidden="true"> &rarr;</span>-->
<!--        </button>-->
<!--      </p>-->
<!--    </div>-->
  </div>
</div>
</div>


</div>
